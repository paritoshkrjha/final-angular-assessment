<app-navbar title="Member Dashboard" />
<app-root-layout>
  <div class="mt-10">
    <p class="text-3xl">Task Details</p>
  </div>
  @if(isLoading){
  <div class="flex justify-center items-center h-[300px]">
    <div class="loader">Loading...</div>
  </div>
  } @else{

  <div class="pt-8">
    <div class="border border-gray-300 rounded-md mt-5">
      <div>
        <p class="text-2xl p-5 flex items-center justify-between">
          Task Title
          <span class="font-bold text-gray-500">{{ taskDetails?.title }}</span>
        </p>

        <div class="w-full h-[2px] bg-black"></div>
        <div class="p-8 space-y-2">
          <p class="text-xl flex justify-between items-center">
            Project Name :
            <span class="font-bold text-gray-500">
              {{ taskDetails?.projectName }}</span
            >
          </p>
          <p class="text-xl flex justify-between items-center">
            Assigned To:
            <span class="font-bold text-gray-500"> User 1</span>
          </p>

          <div class="flex justify-between items-center">
            <p class="text-xl">Task Status</p>
            <form [formGroup]="taskStatusForm" (ngSubmit)="onUpdateStatus()">
              <select
                formControlName="status"
                class="border border-gray-300 rounded-md p-2"
              >
                <option value="pending" class="p-2">To-Do</option>
                <option value="in-progress" class="p-2">In-Progress</option>
                <option value="completed" class="p-2">Completed</option>
              </select>
              <button
                type="submit"
                [class.disabled]="!taskStatusForm.dirty"
                class="ml-4 bg-blue-500 text-white p-2 rounded-md"
              >
                Update
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
  }
</app-root-layout>
