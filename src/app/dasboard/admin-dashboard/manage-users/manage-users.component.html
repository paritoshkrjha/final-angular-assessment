<app-navbar title="Admin Dashboard" />
<app-root-layout>
  <div class="mt-10 flex justify-between">
    <p class="text-3xl">Manage User Access</p>
  </div>

  <div class="mt-10">
    <p class="text-2xl">Admins</p>

    @for(admin of admins; track admin.id){
    <div
      class="border border-gray-300 rounded-md p-5 mt-5 flex justify-between items-center"
    >
      <div>
        <p class="text-xl">
          {{ admin.name }}
          @if(admin.id === currentUserId){
          <span class="text-sm font-bold text-gray-500">(You)</span>
          }
        </p>
        <p class="text-sm">
          Email :
          <span class="font-bold text-gray-500"> {{ admin.email }}</span>
        </p>
      </div>
      <div>
        @if(admin.id !== currentUserId){
        <button
          class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded"
          (click)="handleMakeUser(admin.id)"
        >
          Remove
        </button>
        }
      </div>
    </div>
    }
  </div>

  <div class="mt-10">
    <p class="text-2xl">Members</p>

    @for(member of members; track member.id){
    <div
      class="border border-gray-300 rounded-md p-5 mt-5 flex justify-between items-center"
    >
      <div>
        <p class="text-xl">{{ member.name }}</p>
        <p class="text-sm">
          Email :
          <span class="font-bold text-gray-500"> {{ member.email }}</span>
        </p>
      </div>
      <div>
        <button
          class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded"
          (click)="handleMakeAdmin(member.id)"
        >
          Make Admin
        </button>
      </div>
    </div>
    }
  </div>
</app-root-layout>
