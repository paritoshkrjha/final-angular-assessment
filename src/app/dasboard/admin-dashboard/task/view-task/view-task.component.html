<app-navbar title="Admin Dashboard" />
<app-root-layout>
  <div class="mt-10">
    <p class="text-3xl">Task Details</p>
  </div>
  @if(isLoading){
  <div class="flex justify-center items-center h-[300px]">
    <div class="loader">Loading...</div>
  </div>
  } @else{

  <div class="pt-8">
    <div class="border border-gray-300 rounded-md mt-5">
      <div>
        <p class="text-2xl p-5 flex items-center justify-between">
          Task Title
          <span class="font-bold text-gray-500">{{ taskDetails?.title }}</span>
        </p>

        <div class="w-full h-[2px] bg-black"></div>
        <div class="p-8 space-y-2">
          <p class="text-xl flex justify-between items-center">
            Project Name :
            <span class="font-bold text-gray-500">
              {{ taskDetails?.projectName }}</span
            >
          </p>
          <p class="text-xl flex justify-between items-center">
            Assigned To:
            <span class="font-bold text-gray-500"> {{ userName }}</span>
          </p>

          <div class="flex justify-between items-center">
            <p class="text-xl">Task Status</p>
            <span class="text-xl font-bold text-gray-500">
              {{ getTaskStatus(taskDetails?.status!) }}</span
            >
          </div>
        </div>
      </div>
    </div>
    <div class="flex justify-end space-x-2 mt-4">
      <button
        class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"
        [disabled]="isEditing || isDeleting"
        [class.disabled]="isEditing || isDeleting"
        (click)="onEdit()"
      >
        @if(isEditing){ Editing... } @else{ Edit }
      </button>
      <button
        class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded"
        (click)="handleDeleteTask()"
        [class.disabled]="isDeleting || isEditing"
        [disabled]="isDeleting || isEditing"
      >
        @if(isDeleting){ Deleting... } @else{ Delete }
      </button>
    </div>
  </div>
  }
</app-root-layout>
